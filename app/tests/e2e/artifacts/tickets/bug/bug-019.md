---
ticket_id: bug-019
priority: P2
severity: MEDIUM
status: open
domain: vtt-grid
matrix_source:
  rule_id: vtt-grid-R006
  audit_file: matrix/vtt-grid-audit.md
created_at: 2026-02-19
created_by: orchestrator
---

## Summary

Adjacency and range checks use a single origin point. Multi-cell tokens (Large, Huge, Gigantic size categories) are not accounted for — range is measured from one corner rather than the nearest occupied cell.

## Expected Behavior (PTU Rules)

Per PTU Core: range for multi-cell tokens should be measured from the nearest occupied cell of the token to the nearest cell of the target. A 2x2 Large token attacking an adjacent target should measure from the closest cell, not from a fixed origin.

## Actual Behavior

All range calculations use the token's single position coordinate. A 2x2 token positioned at (5,5) measures range from (5,5) only, not from (5,6), (6,5), or (6,6).

## Affected Files

- `app/composables/useGridMovement.ts` — range/adjacency calculations
- `app/composables/useGridInteraction.ts` — targeting

## PTU Reference

- Core Chapter 8 — Token Sizes, Range Measurement
