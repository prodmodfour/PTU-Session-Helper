---
ticket_id: bug-014
priority: P2
severity: MEDIUM
status: in-progress
domain: healing
matrix_source:
  rule_id: healing-R018
  audit_file: matrix/healing-audit.md
created_at: 2026-02-19
created_by: orchestrator
---

## Summary

Take a Breather unconditionally removes the Cursed condition without checking the PTU prerequisite: the curse source must be KO'd or more than 12 meters away.

## Expected Behavior (PTU Rules)

Per PTU Core: Cursed can only be removed by Take a Breather if the source of the curse is Knocked Out or more than 12 meters (6 squares) away from the cursed character.

## Actual Behavior

Take a Breather clears Cursed regardless of the curse source's status or distance. This makes Curse trivially easy to remove.

## Affected Files

- `app/composables/useRestHealing.ts` or combat maneuver handler — Breather condition clearing logic

## PTU Reference

- Core Chapter 9 — Take a Breather, Curse Condition

## Fix Log

- **Date:** 2026-02-20
- **Commit:** 189c830
- **File changed:** `app/server/api/encounters/[id]/breather.post.ts`
- **Root cause:** `BREATHER_CURED_CONDITIONS` spread all `VOLATILE_CONDITIONS` (which includes Cursed) without any conditional check. The app does not track curse sources, so the PTU prerequisite (source KO'd or >12m away) could not be verified.
- **Fix:** Filtered `Cursed` out of `BREATHER_CURED_CONDITIONS` via `VOLATILE_CONDITIONS.filter(c => c !== 'Cursed')`. Cursed remains in `VOLATILE_CONDITIONS` for other uses (capture rate, condition categorization) but is no longer auto-cleared by Take a Breather. The GM must manually remove Cursed when the prerequisite is met.
- **Duplicate check:** Searched entire codebase for all breather/Cursed clearing paths. Only one implementation exists (`breather.post.ts`). The client store (`encounterCombat.ts:takeABreather`) is a thin API caller. No duplicate code paths found.
