---
ticket_id: bug-018
priority: P2
severity: MEDIUM
status: open
domain: scenes
matrix_source:
  rule_id: scenes-R019
  audit_file: matrix/scenes-audit.md
created_at: 2026-02-19
created_by: orchestrator
---

## Summary

Blocking terrain prevents movement but does NOT block targeting or line-of-sight for attacks passing through it. Ranged attacks can target through walls/obstacles.

## Expected Behavior (PTU Rules)

Per PTU Core: Blocking terrain blocks both movement AND line of sight. Attacks cannot be made through Blocking terrain unless the attacker has a specific ability that allows it.

## Actual Behavior

Blocking terrain only affects movement pathfinding. The accuracy check and targeting system do not consider whether Blocking terrain exists between attacker and target.

## Affected Files

- `app/composables/useGridInteraction.ts` — targeting logic
- `app/composables/useCanvasRendering.ts` — line-of-sight calculations (if any)

## PTU Reference

- Core Chapter 8 — Blocking Terrain, Line of Sight
