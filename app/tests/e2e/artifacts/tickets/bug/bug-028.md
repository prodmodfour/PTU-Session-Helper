---
ticket_id: bug-028
priority: P3
severity: LOW
status: resolved
domain: combat
source: code-review-063
created_at: 2026-02-20
created_by: senior-reviewer
---

## Summary

No E2E test verifies that Cursed survives Take a Breather after the bug-014 fix (commit 189c830). The fix correctly excludes Cursed from auto-clearing, but there is no regression test to prevent re-introduction of the bug.

## Expected Test Behavior

1. Apply Cursed + another volatile condition (e.g., Confused) to a combatant
2. Execute Take a Breather
3. Assert Cursed is NOT in `breatherResult.conditionsCured`
4. Assert Cursed IS still in `entity.statusConditions` after breather
5. Assert the other volatile condition (Confused) IS cured (confirms filter did not break other conditions)

## Suggested Location

Add a new test case to either:
- `app/tests/e2e/scenarios/combat/combat-take-a-breather-001.spec.ts`
- `app/tests/e2e/scenarios/healing/healing-breather-effects-001.spec.ts`

## Fix Log

- **2026-02-20**: Added E2E regression test `'breather does NOT cure Cursed (volatile exception, PTU p.245)'` to `combat-take-a-breather-001.spec.ts`. Test applies Cursed + Confused, executes Take a Breather, and asserts: (1) Cursed is NOT in `breatherResult.conditionsCured`, (2) Cursed IS still present in `entity.statusConditions`, (3) Confused IS cured normally. This guards the bug-014 fix (commit 189c830) against regression.

## Related

- bug-014: The original fix this test would protect
- code-review-063: Review that identified the test gap
