---
ticket_id: bug-009
priority: P1
severity: HIGH
status: resolved
domain: pokemon-lifecycle
matrix_source:
  rule_id: pokemon-lifecycle-R006
  audit_file: matrix/pokemon-lifecycle-audit.md
created_at: 2026-02-19
created_by: orchestrator
---

## Summary

Nature stat adjustments (+2/-2 for non-HP stats, +1/-1 for HP) are stored in the database but never applied to base stats during Pokemon generation. All natures are mechanically identical.

## Expected Behavior (PTU Rules)

Per PTU Core: each Nature modifies two stats — one gets a bonus (+2 for non-HP, +1 for HP) and one gets a penalty (-2 for non-HP, -1 for HP). These adjustments apply to the base stat values before stat point distribution.

## Actual Behavior

The Pokemon generator stores the nature name but does not add/subtract the nature modifiers from base stats. A Jolly Pokemon (+Spd/-SpAtk) has the same Speed and Special Attack as a Quiet Pokemon (+SpAtk/-Spd).

## Affected Files

- `app/server/services/pokemon-generator.service.ts` — `generatePokemonData()` nature application

## PTU Reference

- Core Chapter 2 — Natures

## Resolution Log

- **Commit:** `7a3e8dc` — fix: apply nature stat adjustments during Pokemon generation
- **Files changed:** `app/constants/natures.ts` (new), `app/server/services/pokemon-generator.service.ts`
- **Fix:** Created `NATURE_TABLE` constant with all 36 PTU natures and `applyNatureToBaseStats()` helper. In `generatePokemonData()`, a random nature is now selected and its modifiers applied to base stats (+2/-2 for non-HP, +1/-1 for HP, min 1) before stat point distribution. Nature data is included in the returned `GeneratedPokemonData` and written to the DB record. Also updated `createdPokemonToEntity()` to use the actual nature instead of always defaulting to Hardy.
- **CSV import unaffected:** CSV import reads pre-computed stats from the spreadsheet and passes nature data through; it does not re-generate stats.
